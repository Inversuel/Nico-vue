import { reactive } from 'vue'

export const store = reactive({
  data: [
    {
      ref: 0,
      name: "Lexicondo",
      city: "Needmore",
      price: 2757,
    },
    {
      ref: 1,
      name: "GenmyGenmyGenmyGenmyGenmy",
      city: "Weeksville",
      price: 8873,
    },
    {
      ref: 2,
      name: "Pholio",
      city: "Berlin",
      price: 6262,
    },
    {
      ref: 3,
      name: "Aquoavo",
      city: "Dunbar",
      price: 1204,
    },
    {
      ref: 4,
      name: "Affluex",
      city: "Oberlin",
      price: 2736,
    },
    {
      ref: 5,
      name: "Vortexaco",
      city: "Winchester",
      price: 10883,
    },
    {
      ref: 6,
      name: "Xanide",
      city: "Harborton",
      price: 10708,
    },
    {
      ref: 7,
      name: "Viagrand",
      city: "Jamestown",
      price: 2198,
    },
    {
      ref: 8,
      name: "Stelaecor",
      city: "Libertytown",
      price: 6781,
    },
    {
      ref: 9,
      name: "Zillanet",
      city: "Wheaton",
      price: 10477,
    },
    {
      ref: 10,
      name: "Joviold",
      city: "Lydia",
      price: 6052,
    },
    {
      ref: 11,
      name: "Ecrater",
      city: "Hegins",
      price: 5209,
    },
    {
      ref: 12,
      name: "Pawnagra",
      city: "Dargan",
      price: 8374,
    },
    {
      ref: 13,
      name: "Telepark",
      city: "Woodburn",
      price: 6742,
    },
    {
      ref: 14,
      name: "Fossiel",
      city: "Emison",
      price: 10691,
    },
    {
      ref: 15,
      name: "Endicil",
      city: "Oretta",
      price: 9235,
    },
    {
      ref: 16,
      name: "Zanity",
      city: "Bellfountain",
      price: 718,
    },
    {
      ref: 17,
      name: "Bittor",
      city: "Fresno",
      price: 4048,
    },
    {
      ref: 18,
      name: "Zillacon",
      city: "Grandview",
      price: 2739,
    },
    {
      ref: 19,
      name: "Xelegyl",
      city: "Waterview",
      price: 10980,
    },
    {
      ref: 20,
      name: "Bleeko",
      city: "Crucible",
      price: 3972,
    },
    {
      ref: 21,
      name: "Grok",
      city: "Reno",
      price: 8280,
    },
    {
      ref: 22,
      name: "Geeketron",
      city: "Vivian",
      price: 2808,
    },
    {
      ref: 23,
      name: "Geekko",
      city: "Drummond",
      price: 5509,
    },
    {
      ref: 24,
      name: "Techmania",
      city: "Balm",
      price: 136,
    },
    {
      ref: 25,
      name: "Stralum",
      city: "Newry",
      price: 6085,
    },
    {
      ref: 26,
      name: "Quility",
      city: "Nicut",
      price: 4828,
    },
    {
      ref: 27,
      name: "Digiprint",
      city: "Guthrie",
      price: 1757,
    },
    {
      ref: 28,
      name: "Microluxe",
      city: "Soudan",
      price: 186,
    },
    {
      ref: 29,
      name: "Cyclonica",
      city: "Devon",
      price: 122,
    },
    {
      ref: 30,
      name: "Comtest",
      city: "Fulford",
      price: 5213,
    },
    {
      ref: 31,
      name: "Zilencio",
      city: "Brady",
      price: 3079,
    },
    {
      ref: 32,
      name: "Melbacor",
      city: "Sparkill",
      price: 6202,
    },
    {
      ref: 33,
      name: "Maxemia",
      city: "Downsville",
      price: 8695,
    },
    {
      ref: 34,
      name: "Sloganaut",
      city: "Yukon",
      price: 3280,
    },
    {
      ref: 35,
      name: "Phuel",
      city: "Emory",
      price: 2877,
    },
    {
      ref: 36,
      name: "Corepan",
      city: "Grill",
      price: 4474,
    },
  ],
  dataCopy: [
    {
      ref: 0,
      name: "Lexicondo",
      city: "Needmore",
      price: 2757,
    },
    {
      ref: 1,
      name: "GenmyGenmyGenmyGenmyGenmy",
      city: "Weeksville",
      price: 8873,
    },
    {
      ref: 2,
      name: "Pholio",
      city: "Berlin",
      price: 6262,
    },
    {
      ref: 3,
      name: "Aquoavo",
      city: "Dunbar",
      price: 1204,
    },
    {
      ref: 4,
      name: "Affluex",
      city: "Oberlin",
      price: 2736,
    },
    {
      ref: 5,
      name: "Vortexaco",
      city: "Winchester",
      price: 10883,
    },
    {
      ref: 6,
      name: "Xanide",
      city: "Harborton",
      price: 10708,
    },
    {
      ref: 7,
      name: "Viagrand",
      city: "Jamestown",
      price: 2198,
    },
    {
      ref: 8,
      name: "Stelaecor",
      city: "Libertytown",
      price: 6781,
    },
    {
      ref: 9,
      name: "Zillanet",
      city: "Wheaton",
      price: 10477,
    },
    {
      ref: 10,
      name: "Joviold",
      city: "Lydia",
      price: 6052,
    },
    {
      ref: 11,
      name: "Ecrater",
      city: "Hegins",
      price: 5209,
    },
    {
      ref: 12,
      name: "Pawnagra",
      city: "Dargan",
      price: 8374,
    },
    {
      ref: 13,
      name: "Telepark",
      city: "Woodburn",
      price: 6742,
    },
    {
      ref: 14,
      name: "Fossiel",
      city: "Emison",
      price: 10691,
    },
    {
      ref: 15,
      name: "Endicil",
      city: "Oretta",
      price: 9235,
    },
    {
      ref: 16,
      name: "Zanity",
      city: "Bellfountain",
      price: 718,
    },
    {
      ref: 17,
      name: "Bittor",
      city: "Fresno",
      price: 4048,
    },
    {
      ref: 18,
      name: "Zillacon",
      city: "Grandview",
      price: 2739,
    },
    {
      ref: 19,
      name: "Xelegyl",
      city: "Waterview",
      price: 10980,
    },
    {
      ref: 20,
      name: "Bleeko",
      city: "Crucible",
      price: 3972,
    },
    {
      ref: 21,
      name: "Grok",
      city: "Reno",
      price: 8280,
    },
    {
      ref: 22,
      name: "Geeketron",
      city: "Vivian",
      price: 2808,
    },
    {
      ref: 23,
      name: "Geekko",
      city: "Drummond",
      price: 5509,
    },
    {
      ref: 24,
      name: "Techmania",
      city: "Balm",
      price: 136,
    },
    {
      ref: 25,
      name: "Stralum",
      city: "Newry",
      price: 6085,
    },
    {
      ref: 26,
      name: "Quility",
      city: "Nicut",
      price: 4828,
    },
    {
      ref: 27,
      name: "Digiprint",
      city: "Guthrie",
      price: 1757,
    },
    {
      ref: 28,
      name: "Microluxe",
      city: "Soudan",
      price: 186,
    },
    {
      ref: 29,
      name: "Cyclonica",
      city: "Devon",
      price: 122,
    },
    {
      ref: 30,
      name: "Comtest",
      city: "Fulford",
      price: 5213,
    },
    {
      ref: 31,
      name: "Zilencio",
      city: "Brady",
      price: 3079,
    },
    {
      ref: 32,
      name: "Melbacor",
      city: "Sparkill",
      price: 6202,
    },
    {
      ref: 33,
      name: "Maxemia",
      city: "Downsville",
      price: 8695,
    },
    {
      ref: 34,
      name: "Sloganaut",
      city: "Yukon",
      price: 3280,
    },
    {
      ref: 35,
      name: "Phuel",
      city: "Emory",
      price: 2877,
    },
    {
      ref: 36,
      name: "Corepan",
      city: "Grill",
      price: 4474,
    },
  ],
  add(data: dataType) {
    this.data.push(data);
  },
  delete(ref: number) {
    this.data = this.data.filter((item) => item.ref !== ref);
  },
  update(data: dataType) {
    const dataCopy = [...this.data];
    const index = dataCopy.findIndex((item) => item.ref === data.ref);
    dataCopy[index].name = data.name;
    dataCopy[index].city = data.city;
    dataCopy[index].price = data.price;
    this.data = dataCopy;
  },
  perPage: 5,
  currentPage: 1,
  pages(): number {
    return parseInt((this.data.length / this.perPage).toFixed(0)) + 1;
  },
  dataForCurrentPage() {
    let start = (this.currentPage - 1) * this.perPage;
    if (this.currentPage === 1) {
      start = 0;
    }
    return this.data.slice(start, start + this.perPage);
  },
  changeCurrentPage(page: number) {
    if (page < 1) {
      this.currentPage = 1;
    }
    if (page > this.pages()) {
      this.currentPage = this.pages();
    }
    this.currentPage = page;
  },
});


interface dataType {
  ref: number;
  name: string;
  city: string;
  price: number;
}
